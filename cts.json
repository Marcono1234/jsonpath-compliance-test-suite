{
  "tests": [
    {
      "name": "root",
      "selector": "$",
      "document": [
        "first",
        "second"
      ],
      "result": [
        [
          "first",
          "second"
        ]
      ]
    },
    {
      "name": "no leading whitespace",
      "selector": " $",
      "invalid_selector": true
    },
    {
      "name": "no trailing whitespace",
      "selector": "$ ",
      "invalid_selector": true
    },
    {
      "name": "name shorthand",
      "selector": "$.a",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name shorthand, extended unicode ‚ò∫",
      "selector": "$.‚ò∫",
      "document": {
        "‚ò∫": "A",
        "b": "B"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name shorthand, symbol",
      "selector": "$.&",
      "invalid_selector": true
    },
    {
      "name": "name shorthand absent",
      "selector": "$.c",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": []
    },
    {
      "name": "name shorthand, array data",
      "selector": "$.a",
      "document": [
        "first",
        "second"
      ],
      "result": []
    },
    {
      "name": "wildcard shorthand, object data",
      "selector": "$.*",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": [
        "A",
        "B"
      ]
    },
    {
      "name": "wildcard shorthand, array data",
      "selector": "$.*",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "first",
        "second"
      ]
    },
    {
      "name": "wildcard selector, array data",
      "selector": "$[*]",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "first",
        "second"
      ]
    },
    {
      "name": "wildcard shorthand, then name shorthand",
      "selector": "$.*.a",
      "document": {
        "x": {
          "a": "Ax",
          "b": "Bx"
        },
        "y": {
          "a": "Ay",
          "b": "By"
        }
      },
      "result": [
        "Ax",
        "Ay"
      ]
    },
    {
      "name": "name selector, double quotes",
      "selector": "$[\"a\"]",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, absent",
      "selector": "$[\"c\"]",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": []
    },
    {
      "name": "name selector, double quotes, array data",
      "selector": "$[\"a\"]",
      "document": [
        "first",
        "second"
      ],
      "result": []
    },
    {
      "name": "name selector, double quotes, embedded U+0000",
      "selector": "$[\"\u0000\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0001",
      "selector": "$[\"\u0001\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0002",
      "selector": "$[\"\u0002\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0003",
      "selector": "$[\"\u0003\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0004",
      "selector": "$[\"\u0004\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0005",
      "selector": "$[\"\u0005\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0006",
      "selector": "$[\"\u0006\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0007",
      "selector": "$[\"\u0007\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0008",
      "selector": "$[\"\u0008\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0009",
      "selector": "$[\"\u0009\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000A",
      "selector": "$[\"\u000A\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000B",
      "selector": "$[\"\u000B\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000C",
      "selector": "$[\"\u000C\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000D",
      "selector": "$[\"\u000D\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000E",
      "selector": "$[\"\u000E\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+000F",
      "selector": "$[\"\u000F\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0010",
      "selector": "$[\"\u0010\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0011",
      "selector": "$[\"\u0011\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0012",
      "selector": "$[\"\u0012\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0013",
      "selector": "$[\"\u0013\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0014",
      "selector": "$[\"\u0014\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0015",
      "selector": "$[\"\u0015\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0016",
      "selector": "$[\"\u0016\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0017",
      "selector": "$[\"\u0017\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0018",
      "selector": "$[\"\u0018\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0019",
      "selector": "$[\"\u0019\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001A",
      "selector": "$[\"\u001A\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001B",
      "selector": "$[\"\u001B\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001C",
      "selector": "$[\"\u001C\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001D",
      "selector": "$[\"\u001D\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001E",
      "selector": "$[\"\u001E\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+001F",
      "selector": "$[\"\u001F\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded U+0020",
      "selector": "$[\"\u0020\"]",
      "document": {
        "\u0020": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped double quote",
      "selector": "$[\"\\\"\"]",
      "document": {
        "\"": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped reverse solidus",
      "selector": "$[\"\\\\\"]",
      "document": {
        "\\": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped solidus",
      "selector": "$[\"\\/\"]",
      "document": {
        "/": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped backspace",
      "selector": "$[\"\\b\"]",
      "document": {
        "\u0008": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped form feed",
      "selector": "$[\"\\f\"]",
      "document": {
        "\u000C": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped line feed",
      "selector": "$[\"\\n\"]",
      "document": {
        "\u000A": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped carriage return",
      "selector": "$[\"\\r\"]",
      "document": {
        "\u000D": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped tab",
      "selector": "$[\"\\t\"]",
      "document": {
        "\u0009": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped ‚ò∫, upper case hex",
      "selector": "$[\"\\u263A\"]",
      "document": {
        "‚ò∫": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, escaped ‚ò∫, lower case hex",
      "selector": "$[\"\\u263a\"]",
      "document": {
        "‚ò∫": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, surrogate pair ùÑû",
      "selector": "$[\"\\uD834\\uDD1E\"]",
      "document": {
        "ùÑû": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, surrogate pair üòÄ",
      "selector": "$[\"\\uD83D\\uDE00\"]",
      "document": {
        "üòÄ": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, double quotes, invalid escaped single quote",
      "selector": "$[\"\\'\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, embedded double quote",
      "selector": "$[\"\"\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, double quotes, incomplete escape",
      "selector": "$[\"\\\"]",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes",
      "selector": "$['a']",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, absent",
      "selector": "$['c']",
      "document": {
        "a": "A",
        "b": "B"
      },
      "result": []
    },
    {
      "name": "name selector, single quotes, array data",
      "selector": "$['a']",
      "document": [
        "first",
        "second"
      ],
      "result": []
    },
    {
      "name": "name selector, single quotes, embedded U+0000",
      "selector": "$['\u0000']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0001",
      "selector": "$['\u0001']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0002",
      "selector": "$['\u0002']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0003",
      "selector": "$['\u0003']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0004",
      "selector": "$['\u0004']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0005",
      "selector": "$['\u0005']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0006",
      "selector": "$['\u0006']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0007",
      "selector": "$['\u0007']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0008",
      "selector": "$['\u0008']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0009",
      "selector": "$['\u0009']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000A",
      "selector": "$['\u000A']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000B",
      "selector": "$['\u000B']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000C",
      "selector": "$['\u000C']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000D",
      "selector": "$['\u000D']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000E",
      "selector": "$['\u000E']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+000F",
      "selector": "$['\u000F']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0010",
      "selector": "$['\u0010']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0011",
      "selector": "$['\u0011']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0012",
      "selector": "$['\u0012']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0013",
      "selector": "$['\u0013']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0014",
      "selector": "$['\u0014']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0015",
      "selector": "$['\u0015']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0016",
      "selector": "$['\u0016']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0017",
      "selector": "$['\u0017']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0018",
      "selector": "$['\u0018']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0019",
      "selector": "$['\u0019']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001A",
      "selector": "$['\u001A']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001B",
      "selector": "$['\u001B']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001C",
      "selector": "$['\u001C']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001D",
      "selector": "$['\u001D']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001E",
      "selector": "$['\u001E']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+001F",
      "selector": "$['\u001F']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded U+0020",
      "selector": "$['\u0020']",
      "document": {
        "\u0020": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped single quote",
      "selector": "$['\\'']",
      "document": {
        "'": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped reverse solidus",
      "selector": "$['\\\\']",
      "document": {
        "\\": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped solidus",
      "selector": "$['\\/']",
      "document": {
        "/": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped backspace",
      "selector": "$['\\b']",
      "document": {
        "\u0008": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped form feed",
      "selector": "$['\\f']",
      "document": {
        "\u000C": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped line feed",
      "selector": "$['\\n']",
      "document": {
        "\u000A": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped carriage return",
      "selector": "$['\\r']",
      "document": {
        "\u000D": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped tab",
      "selector": "$['\\t']",
      "document": {
        "\u0009": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped ‚ò∫, upper case hex",
      "selector": "$['\\u263A']",
      "document": {
        "‚ò∫": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, escaped ‚ò∫, lower case hex",
      "selector": "$['\\u263a']",
      "document": {
        "‚ò∫": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, surrogate pair ùÑû",
      "selector": "$['\\uD834\\uDD1E']",
      "document": {
        "ùÑû": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, surrogate pair üòÄ",
      "selector": "$['\\uD83D\\uDE00']",
      "document": {
        "üòÄ": "A"
      },
      "result": [
        "A"
      ]
    },
    {
      "name": "name selector, single quotes, invalid escaped double quote",
      "selector": "$['\\\"']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, embedded single quote",
      "selector": "$[''']",
      "invalid_selector": true
    },
    {
      "name": "name selector, single quotes, incomplete escape",
      "selector": "$['\\']",
      "invalid_selector": true
    },
    {
      "name": "multiple selectors",
      "selector": "$[0,2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0,
        2
      ]
    },
    {
      "name": "multiple selectors with whitespace",
      "selector": "$[ 0 , 1 ]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0,
        1
      ]
    },
    {
      "name": "empty segment",
      "selector": "$[]",
      "invalid_selector": true
    },
    {
      "name": "index selector",
      "selector": "$[0]",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "first"
      ]
    },
    {
      "name": "index selector, 1",
      "selector": "$[1]",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "second"
      ]
    },
    {
      "name": "index selector, out of bound",
      "selector": "$[2]",
      "document": [
        "first",
        "second"
      ],
      "result": []
    },
    {
      "name": "index selector, overflowing index",
      "selector": "$[231584178474632390847141970017375815706539969331281128078915168015826259279872]",
      "invalid_selector": true
    },
    {
      "name": "index selector, negative",
      "selector": "$[-1]",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "second"
      ]
    },
    {
      "name": "index selector, more negative",
      "selector": "$[-2]",
      "document": [
        "first",
        "second"
      ],
      "result": [
        "first"
      ]
    },
    {
      "name": "index selector, negative out of bound",
      "selector": "$[-3]",
      "document": [
        "first",
        "second"
      ],
      "result": []
    },
    {
      "name": "index selector, on object",
      "selector": "$[0]",
      "document": {
        "foo": 1
      },
      "result": []
    },
    {
      "name": "index selector, leading 0",
      "selector": "$[01]",
      "invalid_selector": true
    },
    {
      "name": "index selector, leading -0",
      "selector": "$[-01]",
      "invalid_selector": true
    },
    {
      "name": "slice selector",
      "selector": "$[1:3]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        1,
        2
      ]
    },
    {
      "name": "slice selector with step",
      "selector": "$[1:6:2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        1,
        3,
        5
      ]
    },
    {
      "name": "slice selector with everything omitted, short form",
      "selector": "$[:]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        0,
        1,
        2,
        3
      ]
    },
    {
      "name": "slice selector with everything omitted, long form",
      "selector": "$[::]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        0,
        1,
        2,
        3
      ]
    },
    {
      "name": "slice selector with start omitted",
      "selector": "$[:2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0,
        1
      ]
    },
    {
      "name": "slice selector with start and end omitted",
      "selector": "$[::2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0,
        2,
        4,
        6,
        8
      ]
    },
    {
      "name": "DUPLICATE - union array slice, last index",
      "selector": "$[-1]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        3
      ]
    },
    {
      "name": "DUPLICATE - union array slice, overflowed index",
      "selector": "$[4]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": []
    },
    {
      "name": "DUPLICATE - union array slice, underflowed index",
      "selector": "$[-5]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": []
    },
    {
      "name": "slice selector, negative step with default start and end",
      "selector": "$[::-1]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        3,
        2,
        1,
        0
      ]
    },
    {
      "name": "slice selector, negative step with default start",
      "selector": "$[:0:-1]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        3,
        2,
        1
      ]
    },
    {
      "name": "slice selector, negative step with default end",
      "selector": "$[2::-1]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        2,
        1,
        0
      ]
    },
    {
      "name": "slice selector, larger negative step",
      "selector": "$[::-2]",
      "document": [
        0,
        1,
        2,
        3
      ],
      "result": [
        3,
        1
      ]
    },
    {
      "name": "slice selector, negative range with default step",
      "selector": "$[-1:-3]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": []
    },
    {
      "name": "slice selector, negative range with negative step",
      "selector": "$[-1:-3:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        8
      ]
    },
    {
      "name": "slice selector, negative range with larger negative step",
      "selector": "$[-1:-6:-2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        7,
        5
      ]
    },
    {
      "name": "slice selector, larger negative range with larger negative step",
      "selector": "$[-1:-7:-2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        7,
        5
      ]
    },
    {
      "name": "slice selector, negative from, positive to",
      "selector": "$[-5:7]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        5,
        6
      ]
    },
    {
      "name": "slice selector, negative from",
      "selector": "$[-2:]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        8,
        9
      ]
    },
    {
      "name": "slice selector, positive from, negative to",
      "selector": "$[1:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8
      ]
    },
    {
      "name": "slice selector, negative from, positive to, negative step",
      "selector": "$[-1:1:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        8,
        7,
        6,
        5,
        4,
        3,
        2
      ]
    },
    {
      "name": "slice selector, positive from, negative to, negative step",
      "selector": "$[7:-5:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        7,
        6
      ]
    },
    {
      "name": "slice selector, too many colons",
      "selector": "$[1:2:3:4]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, non-integer array index",
      "selector": "$[1:2:a]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, zero step",
      "selector": "$[1:2:0]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": []
    },
    {
      "name": "slice selector, empty range",
      "selector": "$[2:2]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": []
    },
    {
      "name": "slice selector with everything omitted with empty array",
      "selector": "$[:]",
      "document": [],
      "result": []
    },
    {
      "name": "slice selector, negative step with empty array",
      "selector": "$[::-1]",
      "document": [],
      "result": []
    },
    {
      "name": "slice selector, maximal range with positive step",
      "selector": "$[0:10]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ]
    },
    {
      "name": "slice selector, maximal range with negative step",
      "selector": "$[9:0:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        8,
        7,
        6,
        5,
        4,
        3,
        2,
        1
      ]
    },
    {
      "name": "slice selector, excessively large to value",
      "selector": "$[2:113667776004]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ]
    },
    {
      "name": "slice selector, excessively small from value",
      "selector": "$[-113667776004:1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        0
      ]
    },
    {
      "name": "slice selector, excessively large from value with negative step",
      "selector": "$[113667776004:0:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9,
        8,
        7,
        6,
        5,
        4,
        3,
        2,
        1
      ]
    },
    {
      "name": "slice selector, excessively small to value with negative step",
      "selector": "$[3:-113667776004:-1]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        3,
        2,
        1,
        0
      ]
    },
    {
      "name": "slice selector, excessively large step",
      "selector": "$[1:10:113667776004]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        1
      ]
    },
    {
      "name": "slice selector, excessively small step",
      "selector": "$[-1:-10:-113667776004]",
      "document": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "result": [
        9
      ]
    },
    {
      "name": "slice selector, overflowing to value",
      "selector": "$[2:231584178474632390847141970017375815706539969331281128078915168015826259279872]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, underflowing from value",
      "selector": "$[-231584178474632390847141970017375815706539969331281128078915168015826259279872:1]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, overflowing from value with negative step",
      "selector": "$[231584178474632390847141970017375815706539969331281128078915168015826259279872:0:-1]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, underflowing to value with negative step",
      "selector": "$[3:-231584178474632390847141970017375815706539969331281128078915168015826259279872:-1]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, overflowing step",
      "selector": "$[1:10:231584178474632390847141970017375815706539969331281128078915168015826259279872]",
      "invalid_selector": true
    },
    {
      "name": "slice selector, underflowing step",
      "selector": "$[-1:-10:-231584178474632390847141970017375815706539969331281128078915168015826259279872]",
      "invalid_selector": true
    },
    {
      "name": "descendant segment, index",
      "selector" : "$..[1]",
      "document" : {"o": [0, 1, [2, 3]]},
      "result": [
        1,
        3
     ]
    },
    {
      "name": "descendant segment, name shorthand",
      "selector" : "$..a",
      "document" : {"o": [{"a": "b"}, {"a":"c"}]},
      "result": [
        "b",
        "c"
     ]
    },
    {
      "name": "descendant segment, wildcard shorthand, array data",
      "selector" : "$..*",
      "document" : [0, 1],
      "result": [
        0,
        1
     ]
    },
    {
      "name": "descendant segment, wildcard selector, array data",
      "selector" : "$..[*]",
      "document" : [0, 1],
      "result": [
        0,
        1
     ]
    },
    {
      "name": "descendant segment, wildcard shorthand, object data",
      "selector" : "$..*",
      "document" : {"a": "b"},
      "result": [
        "b"
     ]
    },
    {
      "name": "descendant segment, wildcard shorthand, nested data",
      "selector" : "$..*",
      "document" : {
        "o": [{"a": "b"}]
      },
      "result": [
        [
           {
              "a" : "b"
           }
        ],
        {
           "a" : "b"
        },
        "b"
     ]
    },
    {
      "name": "descendant segment, multiple selectors",
      "selector" : "$..['a', 'd']",
      "document" : [{"a": "b", "d": "e"}, {"a":"c", "d": "f"}],
      "result": [
        "b",
        "e",
        "c",
        "f"
     ]
    },
    {
      "name": "bald descendant segment",
      "selector": "$..",
      "invalid_selector": true
    }
  ]
}
